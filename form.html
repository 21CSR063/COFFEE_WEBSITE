<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validation Form</title>
    <link href="form.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/56ff194b19.js" crossorigin="anonymous"></script>
</head>
<body>
   <div class="container">
    <div class="header">
        <h2>create Account</h2>
    </div>
    <form class="form"id="form">
        <div class="form-control">
            <label>Username</label>
            <input type="text" placeholder="Frontend Forever" id="username">
            <i class="fa-solid fa-check"></i>
            <i class="fa-solid fa-circle-exclamation" style="color: #d72d2d;"></i>
            <small>Error Message</small>
        </div>
        <div class="form-control">
            <label>Email</label>
            <input type="email" placeholder="ff@gmail.com" id="email">
            <i class="fa-solid fa-check"></i>
            <i class="fa-solid fa-circle-exclamation" style="color: #d72d2d;"></i>
        </div>
        <div class="form-control">
            <label>Password</label>
            <input type="password" placeholder="****" id="password">
            <i class="fa-solid fa-check"></i>
            <i class="fa-solid fa-circle-exclamation" style="color: #d72d2d;"></i>
        </div>
        <div class="form-control">
            <label>Confirm Password</label>
            <input type="password" placeholder="****" id="password2">
            <i class="fa-solid fa-check"></i>
            <i class="fa-solid fa-circle-exclamation" style="color: #d72d2d;"></i>
        </div>
        <button>
            Submit
        </button>
    </form>
   </div> 

   <!--javascript-->

   <script>
    const form = document.getElementById("form");
    const username = document.getElementById("username");
    const email = document.getElementById("email");
    const password = document.getElementById("password");
    const password2 = document.getElementById("password2");

    form.addEventListener('submit',e =>
    {
        e.preventDefault();
        checkInput();


    });

    
function checkInput()
    {
        const usernameValue= username.value.trim();
        const emailValue= email.value.trim();
        const passwordValue= password.value.trim();
        const password2Value= password2.value.trim();

        if(usernameValue === '')
        {
            setError(username, 'Username cannot be blank');
        }
        else{
            setSuccess(username);
        }

        if(emailValue === '')
        {
            setError(email, 'Email cannot be blank');
        }
        else if(!isEmail(emailValue)) 
        {
            setError(email, 'Not a valid email');
        }
        else
        {
            setSuccess(email);
        }

        if(passwordValue === '')
        {
            setError(password, 'Password cannot be blank');
        }
         else
        {
            setSuccess(password);
        }
    
        if(password2Value === '')
        {
            setError(password2, 'Password cannot be blank');
        }
        else if(passwordValue  !== password2Value)
        {
        setError(password2,'Password does not match')
        }
        else
        {
            setSuccess(password2);
        }
    
    }

    

     
    function setError(input,message)
     {
        const formControl = input.parentElement;
        const small =  formControl.querySelector('small');
        formControl.className= 'form-control error';
        small.innerText = message;
     }

    function setSuccess(input)
     {
        const formControl=input.parentElement;
        formControl.className='form-control success';
     }


    function isEmail(email)
    {
        return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email);
    }

    
   </script>
</body>
</html>
